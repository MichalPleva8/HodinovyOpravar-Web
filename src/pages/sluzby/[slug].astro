---
// Service Detail Page (Dynamic) - Hodinový opravár
import BaseLayout from '../../layouts/BaseLayout.astro'
import Card from '../../components/ui/Card.astro'
import { services } from '../../data/services'
import type { Service } from '../../data/services'
import CTABanner from '../../components/sections/CTABanner.astro'

// Generate static paths for all services
export function getStaticPaths() {
	return services.map((service) => ({
		params: { slug: service.slug },
		props: { service },
	}))
}

interface Props {
	service: Service
}

const { service } = Astro.props

// Get related services (other services)
const relatedServices = services.filter((s) => s.id !== service.id).slice(0, 3)
---

<BaseLayout
	title={`${service.title} - Hodinový opravár | Žilina a okolie`}
	description={`${service.description} Profesionálne služby v Žiline a okolí. Zavolajte 0903 56 66 44 pre bezplatnú cenovú ponuku.`}
>
	<!-- Hero Section -->
	<section class="bg-white px-6 pb-20 pt-20 md:pt-32 lg:py-20">
		<div class="container mx-auto max-w-7xl">
			<div class="grid grid-cols-1 items-center gap-6 md:gap-10 lg:gap-20 lg:grid-cols-2">
				<!-- Left: Content -->
				<div>
					<a
						href="/#sluzby"
						class="text-subtitle text-primary hover:text-primary-dark mb-3 inline-flex items-center gap-1.5 tracking-wide uppercase transition-colors"
					>
						<svg
							class="h-4 w-4"
							fill="none"
							stroke="currentColor"
							viewBox="0 0 24 24"
						>
							<path
								stroke-linecap="round"
								stroke-linejoin="round"
								stroke-width="2"
								d="M15 19l-7-7 7-7"
							></path>
						</svg>
						Služby
					</a>
					<h1 class="text-h1 mb-6 font-bold text-neutral-800">
						{service.title}
					</h1>
					<p class="text-body-lg mb-8 text-neutral-600">
						{service.description}
					</p>
				</div>

				<!-- Right: Image -->
				<div class="relative aspect-[4/3] w-full overflow-hidden rounded-card shadow-card">
					{
						service.image ? (
							<img
								src={service.image}
								alt={service.title}
								class="h-full w-full object-cover"
							/>
						) : (
							<div class="from-primary/20 to-primary/5 flex h-full w-full items-center justify-center bg-gradient-to-br">
								<svg
									class="text-primary/30 h-32 w-32"
									fill="none"
									stroke="currentColor"
									viewBox="0 0 24 24"
								>
									<path
										stroke-linecap="round"
										stroke-linejoin="round"
										stroke-width="1.5"
										d="M21 13.255A23.931 23.931 0 0112 15c-3.183 0-6.22-.62-9-1.745M16 6V4a2 2 0 00-2-2h-4a2 2 0 00-2 2v2m4 6h.01M5 20h14a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"
									/>
								</svg>
							</div>
						)
					}
				</div>
			</div>
		</div>
	</section>

	<!-- What's Included Section -->
	<section class="bg-white px-6 py-20">
		<div class="container mx-auto max-w-7xl">
			<div class="mx-auto max-w-3xl">
				<h2 class="text-h2 mb-8 text-center font-bold text-neutral-800">Čo je zahrnuté?</h2>

				<div class="grid grid-cols-1 gap-4 md:grid-cols-2">
					{
						service.included.map((item) => (
							<Card hoverable={false}>
								<div class="flex items-start gap-3">
									<svg
										class="text-primary mt-0.5 h-6 w-6 flex-shrink-0"
										fill="none"
										stroke="currentColor"
										viewBox="0 0 24 24"
									>
										<path
											stroke-linecap="round"
											stroke-linejoin="round"
											stroke-width="2"
											d="M5 13l4 4L19 7"
										/>
									</svg>
									<span class="text-body font-medium text-neutral-700">
										{item}
									</span>
								</div>
							</Card>
						))
					}
				</div>
			</div>
		</div>
	</section>

	<CTABanner />
</BaseLayout>

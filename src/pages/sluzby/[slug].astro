---
// Service Detail Page (Dynamic) - Hodinový opravár
import BaseLayout from '../../layouts/BaseLayout.astro'
import Button from '../../components/ui/Button.astro'
import Card from '../../components/ui/Card.astro'
import ServiceCard from '../../components/ui/ServiceCard.astro'
import { services } from '../../data/services'
import type { Service } from '../../data/services'

// Generate static paths for all services
export function getStaticPaths() {
	return services.map((service) => ({
		params: { slug: service.slug },
		props: { service },
	}))
}

interface Props {
	service: Service
}

const { service } = Astro.props

// Get related services (other services)
const relatedServices = services.filter((s) => s.id !== service.id).slice(0, 3)
---

<BaseLayout
	title={`${service.title} - Hodinový opravár | Žilina a okolie`}
	description={`${service.description} Profesionálne služby v Žiline a okolí. Zavolajte 0903 56 66 44 pre bezplatnú cenovú ponuku.`}
>
	<!-- Hero Section -->
	<section class="bg-neutral-200 px-6 py-20">
		<div class="container mx-auto max-w-7xl">
			<div class="grid grid-cols-1 items-center gap-12 lg:grid-cols-2">
				<!-- Left: Content -->
				<div>
					<p class="text-primary mb-4 text-sm font-medium tracking-wide uppercase">
						SLUŽBA
					</p>
					<h1 class="text-h1 mb-6 font-bold text-neutral-800">
						{service.title}
					</h1>
					<p class="text-body-lg mb-8 text-neutral-600">
						{service.description}
					</p>

					<!-- CTAs -->
					<div class="flex flex-col gap-4 sm:flex-row">
						<Button href="tel:+421903566644" variant="primary" size="lg">
							Zavolať teraz
						</Button>
						<Button href="/kontakt" variant="secondary" size="lg">
							Získať cenovú ponuku
						</Button>
					</div>
				</div>

				<!-- Right: Image -->
				<div>
					{
						service.image ? (
							<img
								src={service.image}
								alt={service.title}
								class="rounded-card shadow-card h-auto w-full"
							/>
						) : (
							<div class="from-primary/20 to-primary/5 rounded-card flex h-96 w-full items-center justify-center bg-gradient-to-br">
								<svg
									class="text-primary/30 h-32 w-32"
									fill="none"
									stroke="currentColor"
									viewBox="0 0 24 24"
								>
									<path
										stroke-linecap="round"
										stroke-linejoin="round"
										stroke-width="1.5"
										d="M21 13.255A23.931 23.931 0 0112 15c-3.183 0-6.22-.62-9-1.745M16 6V4a2 2 0 00-2-2h-4a2 2 0 00-2 2v2m4 6h.01M5 20h14a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"
									/>
								</svg>
							</div>
						)
					}
				</div>
			</div>
		</div>
	</section>

	<!-- What's Included Section -->
	<section class="bg-white px-6 py-20">
		<div class="container mx-auto max-w-7xl">
			<div class="mx-auto max-w-3xl">
				<h2 class="text-h2 mb-8 text-center font-bold text-neutral-800">Čo je zahrnuté?</h2>

				<div class="grid grid-cols-1 gap-4 md:grid-cols-2">
					{
						service.included.map((item) => (
							<Card hoverable={false}>
								<div class="flex items-start gap-3">
									<svg
										class="text-primary mt-0.5 h-6 w-6 flex-shrink-0"
										fill="none"
										stroke="currentColor"
										viewBox="0 0 24 24"
									>
										<path
											stroke-linecap="round"
											stroke-linejoin="round"
											stroke-width="2"
											d="M5 13l4 4L19 7"
										/>
									</svg>
									<span class="text-body font-medium text-neutral-700">
										{item}
									</span>
								</div>
							</Card>
						))
					}
				</div>
			</div>
		</div>
	</section>

	<!-- How It Works Section -->
	<section class="bg-neutral-200 px-6 py-20">
		<div class="container mx-auto max-w-7xl">
			<div class="mb-12 text-center">
				<h2 class="text-h2 mb-4 font-bold text-neutral-800">Ako to funguje?</h2>
				<p class="text-body mx-auto max-w-2xl text-neutral-600">
					Jednoduchý a transparentný proces od prvého kontaktu po dokončenie práce
				</p>
			</div>

			<div class="grid grid-cols-1 gap-6 md:grid-cols-4">
				<!-- Step 1 -->
				<div class="rounded-card relative bg-white p-6 text-center">
					<div
						class="bg-primary mx-auto mb-4 flex h-12 w-12 items-center justify-center rounded-full text-xl font-bold text-white"
					>
						1
					</div>
					<h3 class="mb-2 font-bold text-neutral-800">Kontaktujte nás</h3>
					<p class="text-sm text-neutral-600">Zavolejte alebo napíšte cez formulár</p>
				</div>

				<!-- Step 2 -->
				<div class="rounded-card relative bg-white p-6 text-center">
					<div
						class="bg-primary mx-auto mb-4 flex h-12 w-12 items-center justify-center rounded-full text-xl font-bold text-white"
					>
						2
					</div>
					<h3 class="mb-2 font-bold text-neutral-800">Dohodneme sa</h3>
					<p class="text-sm text-neutral-600">Dohodneme termín a cenu za prácu</p>
				</div>

				<!-- Step 3 -->
				<div class="rounded-card relative bg-white p-6 text-center">
					<div
						class="bg-primary mx-auto mb-4 flex h-12 w-12 items-center justify-center rounded-full text-xl font-bold text-white"
					>
						3
					</div>
					<h3 class="mb-2 font-bold text-neutral-800">Vykonáme prácu</h3>
					<p class="text-sm text-neutral-600">Profesionálne a kvalitne dokončíme prácu</p>
				</div>

				<!-- Step 4 -->
				<div class="rounded-card relative bg-white p-6 text-center">
					<div
						class="bg-primary mx-auto mb-4 flex h-12 w-12 items-center justify-center rounded-full text-xl font-bold text-white"
					>
						4
					</div>
					<h3 class="mb-2 font-bold text-neutral-800">Spokojný zákazník</h3>
					<p class="text-sm text-neutral-600">Kontrola kvality a vaša spokojnosť</p>
				</div>
			</div>
		</div>
	</section>

	<!-- CTA Section -->
	<section class="bg-primary px-6 py-20 text-white">
		<div class="container mx-auto max-w-4xl text-center">
			<h2 class="text-h2 mb-4 font-bold">
				Potrebujete službu {service.title.toLowerCase()}?
			</h2>
			<p class="text-body-lg mb-8 text-white/90">
				Kontaktujte nás ešte dnes a my sa vám ozveme čo najskôr s cenovou ponukou a termínom
				realizácie.
			</p>

			<div class="flex flex-col items-center justify-center gap-4 sm:flex-row">
				<a
					href="tel:+421903566644"
					class="inline-flex items-center gap-3 text-2xl font-bold hover:underline"
				>
					<svg class="h-8 w-8" fill="none" stroke="currentColor" viewBox="0 0 24 24">
						<path
							stroke-linecap="round"
							stroke-linejoin="round"
							stroke-width="2"
							d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"
						></path>
					</svg>
					0903 56 66 44
				</a>

				<span class="text-white/70">alebo</span>

				<Button href="/kontakt" variant="secondary" size="lg"> Kontaktný formulár </Button>
			</div>

			<div class="mt-8 flex flex-wrap justify-center gap-6 text-sm text-white/80">
				<div class="flex items-center gap-2">
					<svg class="h-5 w-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
						<path
							stroke-linecap="round"
							stroke-linejoin="round"
							stroke-width="2"
							d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path>
					</svg>
					<span>Rýchla reakcia</span>
				</div>
				<div class="flex items-center gap-2">
					<svg class="h-5 w-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
						<path
							stroke-linecap="round"
							stroke-linejoin="round"
							stroke-width="2"
							d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path>
					</svg>
					<span>Férové ceny</span>
				</div>
				<div class="flex items-center gap-2">
					<svg class="h-5 w-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
						<path
							stroke-linecap="round"
							stroke-linejoin="round"
							stroke-width="2"
							d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path>
					</svg>
					<span>Záruka na prácu</span>
				</div>
			</div>
		</div>
	</section>

	<!-- Related Services Section -->
	{
		relatedServices.length > 0 && (
			<section class="bg-white px-6 py-20">
				<div class="container mx-auto max-w-7xl">
					<div class="mb-12 text-center">
						<h2 class="text-h2 mb-4 font-bold text-neutral-800">Ďalšie služby</h2>
						<p class="text-body text-neutral-600">
							Pozrite si aj naše ďalšie služby, ktoré by vás mohli zaujímať
						</p>
					</div>

					<div class="grid grid-cols-1 gap-6 md:grid-cols-3">
						{relatedServices.map((relatedService) => (
							<ServiceCard
								title={relatedService.title}
								description={relatedService.description}
								icon={relatedService.icon}
								href={`/sluzby/${relatedService.slug}`}
								image={relatedService.image}
							/>
						))}
					</div>

					<div class="mt-8 text-center">
						<Button href="/sluzby" variant="primary" size="lg">
							Zobraziť všetky služby
						</Button>
					</div>
				</div>
			</section>
		)
	}
</BaseLayout>
